package main

import (
	"fmt"
	"testing"
)

func Test_parseBase64Multipart(t *testing.T) {
	type args struct {
		base64Data string
	}
	tests := []struct {
		name       string
		args       args
		wantMemNum string
		wantErr    bool
	}{
		{
			name: "Happy",
			args: args{
				base64Data: "LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1neUJNSXpSTHVZVEFFWHhZakY4ZnNRDQpDb250ZW50LURpc3Bvc2l0aW9uOiBmb3JtLWRhdGE7IG5hbWU9ImFjdGlvbiINCg0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWd5Qk1JelJMdVlUQUVYeFlqRjhmc1ENCkNvbnRlbnQtRGlzcG9zaXRpb246IGZvcm0tZGF0YTsgbmFtZT0id2ViaG9va1VSTCINCg0KaHR0cHM6Ly9ydnB6cHFqeXR5dzZwaWxyZzRnbHVpMmtvNDBxdWR4ai5sYW1iZGEtdXJsLmV1LXdlc3QtMy5vbi5hd3MvDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWd5Qk1JelJMdVlUQUVYeFlqRjhmc1ENCkNvbnRlbnQtRGlzcG9zaXRpb246IGZvcm0tZGF0YTsgbmFtZT0idXNlcm5hbWUiDQoNCmJhdGhyaWRpbmdjbHViDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWd5Qk1JelJMdVlUQUVYeFlqRjhmc1ENCkNvbnRlbnQtRGlzcG9zaXRpb246IGZvcm0tZGF0YTsgbmFtZT0iZm9ybUlEIg0KDQoyNTI3MjU2MjQ2NjIzNTkNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tZ3lCTUl6Ukx1WVRBRVh4WWpGOGZzUQ0KQ29udGVudC1EaXNwb3NpdGlvbjogZm9ybS1kYXRhOyBuYW1lPSJ0eXBlIg0KDQpXRUINCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tZ3lCTUl6Ukx1WVRBRVh4WWpGOGZzUQ0KQ29udGVudC1EaXNwb3NpdGlvbjogZm9ybS1kYXRhOyBuYW1lPSJjdXN0b21QYXJhbXMiDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1neUJNSXpSTHVZVEFFWHhZakY4ZnNRDQpDb250ZW50LURpc3Bvc2l0aW9uOiBmb3JtLWRhdGE7IG5hbWU9InByb2R1Y3QiDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1neUJNSXpSTHVZVEFFWHhZakY4ZnNRDQpDb250ZW50LURpc3Bvc2l0aW9uOiBmb3JtLWRhdGE7IG5hbWU9ImZvcm1UaXRsZSINCg0KVHJhaW5pbmcNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tZ3lCTUl6Ukx1WVRBRVh4WWpGOGZzUQ0KQ29udGVudC1EaXNwb3NpdGlvbjogZm9ybS1kYXRhOyBuYW1lPSJjdXN0b21UaXRsZSINCg0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWd5Qk1JelJMdVlUQUVYeFlqRjhmc1ENCkNvbnRlbnQtRGlzcG9zaXRpb246IGZvcm0tZGF0YTsgbmFtZT0ic3VibWlzc2lvbklEIg0KDQo2NDA5NDM5ODMyOTg4MTQyOTEwDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWd5Qk1JelJMdVlUQUVYeFlqRjhmc1ENCkNvbnRlbnQtRGlzcG9zaXRpb246IGZvcm0tZGF0YTsgbmFtZT0iZXZlbnQiDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1neUJNSXpSTHVZVEFFWHhZakY4ZnNRDQpDb250ZW50LURpc3Bvc2l0aW9uOiBmb3JtLWRhdGE7IG5hbWU9ImRvY3VtZW50SUQiDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1neUJNSXpSTHVZVEFFWHhZakY4ZnNRDQpDb250ZW50LURpc3Bvc2l0aW9uOiBmb3JtLWRhdGE7IG5hbWU9InRlYW1JRCINCg0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWd5Qk1JelJMdVlUQUVYeFlqRjhmc1ENCkNvbnRlbnQtRGlzcG9zaXRpb246IGZvcm0tZGF0YTsgbmFtZT0ic3ViamVjdCINCg0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWd5Qk1JelJMdVlUQUVYeFlqRjhmc1ENCkNvbnRlbnQtRGlzcG9zaXRpb246IGZvcm0tZGF0YTsgbmFtZT0iaXNTaWxlbnQiDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1neUJNSXpSTHVZVEFFWHhZakY4ZnNRDQpDb250ZW50LURpc3Bvc2l0aW9uOiBmb3JtLWRhdGE7IG5hbWU9ImN1c3RvbUJvZHkiDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1neUJNSXpSTHVZVEFFWHhZakY4ZnNRDQpDb250ZW50LURpc3Bvc2l0aW9uOiBmb3JtLWRhdGE7IG5hbWU9InJhd1JlcXVlc3QiDQoNCnsic2x1ZyI6InN1Ym1pdFwvMjUyNzI1NjI0NjYyMzU5IiwianNFeGVjdXRpb25UcmFja2VyIjoiYnVpbGQtZGF0ZS0xNzY1MTM0NzY0OTE0PT5pbml0LXN0YXJ0ZWQ6MTc2NTEzNDc3MDkxNT0+dmFsaWRhdG9yLWNhbGxlZDoxNzY1MTM0NzcwOTIxPT52YWxpZGF0b3ItbW91bnRlZC1mYWxzZToxNzY1MTM0NzcwOTIyPT5pbml0LWNvbXBsZXRlOjE3NjUxMzQ3NzA5MjI9Pm9uc3VibWl0LWZpcmVkOjE3NjUxMzQ3ODM4MzY9Pm9ic2VydmVyU3VibWl0SGFuZGxlcl9yZWNlaXZlZC1zdWJtaXQtZXZlbnQ6MTc2NTEzNDc4MzgzNj0+c3VibWl0LXZhbGlkYXRpb24tcGFzc2VkOjE3NjUxMzQ3ODM4NDI9Pm9ic2VydmVyU3VibWl0SGFuZGxlcl92YWxpZGF0aW9uLXBhc3NlZC1zdWJtaXR0aW5nLWZvcm06MTc2NTEzNDc4Mzg1NyIsInN1Ym1pdFNvdXJjZSI6ImZvcm0iLCJzdWJtaXREYXRlIjoiMTc2NTEzNDc4Mzg1NyIsImJ1aWxkRGF0ZSI6IjE3NjUxMzQ3NjQ5MTQiLCJ1cGxvYWRTZXJ2ZXJVcmwiOiJodHRwczpcL1wvdXBsb2FkLmpvdGZvcm0uY29tXC91cGxvYWQiLCJldmVudE9ic2VydmVyIjoiMSIsInExNV9icmNNZW1iZXJzaGlwMTUiOiIxMjM0NTY3IiwicTE4X2hvcnNlTmFtZTE4IjoibHVrZSIsInE1X3NlbGVjdFNlc3Npb24iOnsiaW1wbGVtZW50YXRpb24iOiJuZXciLCJkYXRlIjoiMjAyNS0xMi0xMSAyMDowMCIsImR1cmF0aW9uIjoiNjAiLCJ0aW1lem9uZSI6IkV1cm9wZVwvTG9uZG9uIChHTVQrMDE6MDApIn0sInEzNF9zZWxlY3RlZFZlbnVlIjoiV2VzdCBXaWx0cyIsInExMl90eXBlQSI6IlpMNDQiLCJxMzFfYW1vdW50IjoiMjYiLCJ0aW1lVG9TdWJtaXQiOiIxMiIsInByZXZpZXciOiJ0cnVlIiwidmFsaWRhdGVkTmV3UmVxdWlyZWRGaWVsZElEcyI6IntcIm5ld1wiOjEsXCJpbnB1dF8xMlwiOlwiWkxcIixcImlkXzE1XCI6XCIxMlwiLFwiaWRfMThcIjpcImx1XCJ9IiwicGF0aCI6Ilwvc3VibWl0XC8yNTI3MjU2MjQ2NjIzNTkiLCJxMjhfdHlwZUEyOCI6IiJ9DQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWd5Qk1JelJMdVlUQUVYeFlqRjhmc1ENCkNvbnRlbnQtRGlzcG9zaXRpb246IGZvcm0tZGF0YTsgbmFtZT0iZnJvbVRhYmxlIg0KDQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tZ3lCTUl6Ukx1WVRBRVh4WWpGOGZzUQ0KQ29udGVudC1EaXNwb3NpdGlvbjogZm9ybS1kYXRhOyBuYW1lPSJhcHBJRCINCg0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWd5Qk1JelJMdVlUQUVYeFlqRjhmc1ENCkNvbnRlbnQtRGlzcG9zaXRpb246IGZvcm0tZGF0YTsgbmFtZT0icHJldHR5Ig0KDQpCcml0aXNoIFJpZGluZyBDbHVicyBNZW1iZXJzaGlwIE51bWJlcjoxMjM0NTY3LCBIb3JzZSBOYW1lOmx1a2UsIFNlbGVjdCBTZXNzaW9uIERhdGUgYW5kIFByZWZlcnJlZCBUaW1lOlRodXJzZGF5LCBEZWMgMTEsIDIwMjUgMDg6MDAgUE0tMDk6MDAgUE0gRXVyb3BlL0xvbmRvbiAoR01UKzAxOjAwKSwgU2VsZWN0ZWQgVmVudWU6Oldlc3QgV2lsdHMsIFBheW1lbnQgUmVmZXJlbmNlOjpaTDQ0LCBBbW91bnQgKMKjKTo6MjYNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tZ3lCTUl6Ukx1WVRBRVh4WWpGOGZzUQ0KQ29udGVudC1EaXNwb3NpdGlvbjogZm9ybS1kYXRhOyBuYW1lPSJ1bnJlYWQiDQoNCg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1neUJNSXpSTHVZVEFFWHhZakY4ZnNRDQpDb250ZW50LURpc3Bvc2l0aW9uOiBmb3JtLWRhdGE7IG5hbWU9InBhcmVudCINCg0KDQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWd5Qk1JelJMdVlUQUVYeFlqRjhmc1ENCkNvbnRlbnQtRGlzcG9zaXRpb246IGZvcm0tZGF0YTsgbmFtZT0iaXAiDQoNCjg2LjE0NS4xOC45Mg0KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1neUJNSXpSTHVZVEFFWHhZakY4ZnNRLS0NCg==",
			},
			wantMemNum: "1234567",
			wantErr:    false,
		},
		// TODO: Add test cases.
	}
	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			got, err := parseBase64Multipart(tt.args.base64Data)
			fmt.Print(got.DebugString())
			if (err != nil) != tt.wantErr {
				t.Errorf("parseBase64Multipart() error = %v, wantErr %v", err, tt.wantErr)
				return
			}
			if got.RawRequest.MembershipNumber != tt.wantMemNum {
				t.Errorf("parseBase64Multipart() got membership number = %v, want %v", got.RawRequest.MembershipNumber, tt.wantMemNum)
			}
		})
	}
}
